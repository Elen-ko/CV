function onScroll(t){var a=$(document).scrollTop(),e=$("#nav .menu"),o=e.find("a"),s=e.find("li:last-child a"),n=e.height()+30;a>n?e.addClass("fixed"):e.removeClass("fixed"),activateProgressCircles(a),o.each(function(){var t=$(this),e=t.attr("href");$(e).length>0&&($(e).position().top<=a+n?(o.removeClass("active"),t.addClass("active")):t.removeClass("active"))}),$(window).scrollTop()==$(document).height()-$(window).height()&&(o.removeClass("active"),s.addClass("active"))}function activateProgressCircles(t){var a,e,o;$(".progress-circles").each(function(){a=$(this),e=a.position().top,o=a.parent().position().top,e<=t+(e-o+100)&&(a.hasClass("activated")||a.addClass("activated"))})}$(function(){var t=$("#nav");$(document).on("scroll",onScroll),$('.menu a[href^="#"]').on("click",function(t){t.preventDefault(),$(document).off("scroll"),$("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var a=this.hash;$target=$(a),$("html, body").stop().animate({scrollTop:$target.offset().top+2},900,"swing",function(){window.location.hash=a,$(document).on("scroll",onScroll)})}),$(document).on("click touchstart",function(a){"bar"===a.target.className?t.toggleClass("openned"):t.is(a.target)||0!==t.has(a.target).length||t.removeClass("openned")})});