function onScroll(o){var t,a=$(document).scrollTop(),e=$("#nav .menu"),s=e.find("a"),i=e.find("li:last-child a"),n=e.height()+30;a>n?e.addClass("fixed"):e.removeClass("fixed"),activateProgressCircles(a),s.each(function(){var o=$(this),e=o.attr("href");$(e).length>0&&((t=$(e).position().top)<=a+n?(s.removeClass("active"),o.addClass("active")):o.removeClass("active"))}),$(window).scrollTop()==$(document).height()-$(window).height()&&(s.removeClass("active"),i.addClass("active"))}function activateProgressCircles(o){var t,a,e,s;$(".progress-circles").each(function(){t=$(this),a=t.position().top,e=t.parent().position().top,a<=o+(s=a-e+100)&&(t.hasClass("activated")||t.addClass("activated"))})}$(function(){$(document).on("scroll",onScroll),$('.menu a[href^="#"]').on("click",function(o){o.preventDefault(),$(document).off("scroll"),$("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var t=this.hash;$target=$(t),$("html, body").stop().animate({scrollTop:$target.offset().top+2},900,"swing",function(){window.location.hash=t,$(document).on("scroll",onScroll)})}),$("#nav .bar").on("click",function(){$("#nav").toggleClass("openned")})});