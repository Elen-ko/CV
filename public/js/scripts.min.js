function onScroll(t){var a,e=$(document).scrollTop(),o=$("#nav .menu"),s=o.find("a"),n=o.find("li:last-child a"),i=o.height()+30;e>i?o.addClass("fixed"):o.removeClass("fixed"),activateProgressCircles(e),s.each(function(){var t=$(this),o=t.attr("href");$(o).length>0&&((a=$(o).position().top)<=e+i?(s.removeClass("active"),t.addClass("active")):t.removeClass("active"))}),$(window).scrollTop()==$(document).height()-$(window).height()&&(s.removeClass("active"),n.addClass("active"))}function activateProgressCircles(t){var a,e,o,s;$(".progress-circles").each(function(){a=$(this),e=a.position().top,o=a.parent().position().top,e<=t+(s=e-o+100)&&(a.hasClass("activated")||a.addClass("activated"))})}$(function(){var t=$("#nav");$(document).on("scroll",onScroll),$('.menu a[href^="#"]').on("click",function(t){t.preventDefault(),$(document).off("scroll"),$("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var a=this.hash;$target=$(a),$("html, body").stop().animate({scrollTop:$target.offset().top+2},900,"swing",function(){window.location.hash=a,$(document).on("scroll",onScroll)})}),$(document).on("click touchstart",function(a){"bar"===a.target.className?t.toggleClass("openned"):t.is(a.target)||0!==t.has(a.target).length||t.removeClass("openned")})});