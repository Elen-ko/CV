function onScroll(o){var n,t=$(document).scrollTop(),e=$("#nav .menu"),a=e.find("a"),c=e.height()+30;t>c?e.addClass("fixed"):e.removeClass("fixed"),a.each(function(){var o=$(this),e=o.attr("href");$(e).length>0&&((n=$(e).position().top)<=t+c&&n+$(e).height()>t?(a.removeClass("active"),o.addClass("active")):o.removeClass("active"))})}$(function(){$(document).on("scroll",onScroll),$('.menu a[href^="#"]').on("click",function(o){o.preventDefault(),$(document).off("scroll"),$("a").each(function(){$(this).removeClass("active")}),$(this).addClass("active");var n=this.hash;$target=$(n),$("html, body").stop().animate({scrollTop:$target.offset().top+2},900,"swing",function(){window.location.hash=n,$(document).on("scroll",onScroll)})}),$("#nav .bar").on("click",function(){$("#nav").toggleClass("openned")})});